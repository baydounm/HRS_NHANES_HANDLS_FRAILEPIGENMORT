{smcl}
{com}{sf}{ul off}{txt}
{com}. 
. 
. 
. *******STEP 12: GENERATE FRAILTY SCORE AND STATUS***********************
. 
. 
. 
. 
. *****************BMX***********************************************
. clear
{txt}
{com}. import sasxport5 "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX.xpt"
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX.dta{rm}
saved
{p_end}

{com}. capture drop cycle
{txt}
{com}. gen cycle=1
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX.dta{rm}
saved
{p_end}

{com}. 
. clear
{txt}
{com}. import sasxport5 "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_B.xpt"
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_B.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_B.dta{rm}
saved
{p_end}

{com}. capture drop cycle
{txt}
{com}. gen cycle=2
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_B.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_B.dta{rm}
saved
{p_end}

{com}. 
. use "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX.dta",clear
{txt}
{com}. append using "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_B.dta" 
{txt}
{com}. sort seqn
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_AB.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_AB.dta{rm}
saved
{p_end}

{com}. 
. 
. *************PAQ************************************************
. clear
{txt}
{com}. import sasxport5 "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ.xpt"
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ.dta{rm}
saved
{p_end}

{com}. capture drop cycle
{txt}
{com}. gen cycle=1
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ.dta{rm}
saved
{p_end}

{com}. 
. clear
{txt}
{com}. import sasxport5 "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_B.xpt"
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_B.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_B.dta{rm}
saved
{p_end}

{com}. capture drop cycle
{txt}
{com}. gen cycle=2
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_B.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_B.dta{rm}
saved
{p_end}

{com}. 
. use "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ.dta",clear
{txt}
{com}. append using "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_B.dta" 
{txt}
{com}. sort seqn
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_AB.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_AB.dta{rm}
saved
{p_end}

{com}. 
. ****************PFQ************************
. clear
{txt}
{com}. import sasxport5 "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ.xpt"
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ.dta{rm}
saved
{p_end}

{com}. capture drop cycle
{txt}
{com}. gen cycle=1
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ.dta{rm}
saved
{p_end}

{com}. 
. clear
{txt}
{com}. import sasxport5 "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_B.xpt"
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_B.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_B.dta{rm}
saved
{p_end}

{com}. capture drop cycle
{txt}
{com}. gen cycle=2
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_B.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_B.dta{rm}
saved
{p_end}

{com}. 
. use "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ.dta",clear
{txt}
{com}. append using "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_B.dta"
{txt}
{com}. sort seqn 
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_AB.dta",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_AB.dta{rm}
saved
{p_end}

{com}. 
. **************************MERGE DEMO_AB with BMX_AB, PAQ_AB and PFQ_AB***************
. 
. use "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\DEMO_AB",clear
{txt}
{com}. sort seqn
{txt}
{com}. capture drop _merge
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\DEMO_AB",replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\DEMO_AB.dta{rm}
saved
{p_end}

{com}. merge seqn using "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\BMX_AB.dta"
{txt}{p}
(you are using old
{bf:merge} syntax; see
{bf:{help merge:[D] merge}} for new syntax)
{p_end}

{com}. tab _merge

     {txt}_merge {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      1,245        5.93        5.93
{txt}          3 {c |}{res}     19,759       94.07      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     21,004      100.00
{txt}
{com}. capture drop _merge
{txt}
{com}. sort seqn
{txt}
{com}. merge seqn using "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PAQ_AB.dta" 
{txt}{p}
(you are using old
{bf:merge} syntax; see
{bf:{help merge:[D] merge}} for new syntax)
{p_end}

{com}. tab _merge

     {txt}_merge {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      1,722        8.20        8.20
{txt}          3 {c |}{res}     19,282       91.80      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     21,004      100.00
{txt}
{com}. capture drop _merge
{txt}
{com}. sort seqn
{txt}
{com}. merge seqn using "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\PFQ_AB.dta"
{txt}{p}
(you are using old
{bf:merge} syntax; see
{bf:{help merge:[D] merge}} for new syntax)
{p_end}

{com}. capture drop _merge
{txt}
{com}. sort seqn
{txt}
{com}. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\FRAILTY_NHANES.dta", replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\FRAILTY_NHANES.dta{rm}
saved
{p_end}

{com}. 
. 
. 
. 
. *********************************************
. * 1. Shrinking (Low BMI proxy for unintentional weight loss)
. capture drop frail_shrinking
{txt}
{com}. gen frail_shrinking = .
{txt}(21,004 missing values generated)

{com}. replace frail_shrinking = 1 if bmxbmi < 18.5 & bmxbmi~=.
{txt}(3,558 real changes made)

{com}. replace frail_shrinking = 0 if bmxbmi >= 18.5 & bmxbmi~=. 
{txt}(13,914 real changes made)

{com}. 
. 
. * 2. Weakness (Lifting carrying difficulty)
. 
. 
. **1999-00**
. **Variable Name:PFQ060eSAS Label:Lifting or carrying difficultyEnglish Text:By {c -(}yourself/himself/herself{c )-} and without using any special equipment, how much difficulty {c -(}do you/does SP{c )-} have . **. .lifting or carrying something as heavy as 10 pounds [like a sack of potatoes or rice]?Target:Both males and females 20 YEARS - 120 YEARS
. **Code or Value Value Description       Count   Cumulative      Skip to Item
. **1     No difficulty   1510    1510    
. **2     Some difficulty 362     1872    
. **3     Much difficulty 143     2015    
. **4     Unable to do    244     2259    
. **7     Refused 0       2259    
. **9     Don't know      4       2263    
. **.     Missing 7230    9493    
. 
. **Combined waves**
. 
. tab pfq060e, miss

 {txt}Lifting or {c |}
   carrying {c |}
 difficulty {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      3,117       14.84       14.84
{txt}          2 {c |}{res}        773        3.68       18.52
{txt}          3 {c |}{res}        307        1.46       19.98
{txt}          4 {c |}{res}        494        2.35       22.33
{txt}          9 {c |}{res}         12        0.06       22.39
{txt}          . {c |}{res}     16,301       77.61      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     21,004      100.00
{txt}
{com}. 
. 
. ** Lifting or |
. **   carrying |
. ** difficulty |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      3,117       14.84       14.84
. **          2 |        773        3.68       18.52
. **          3 |        307        1.46       19.98
. **          4 |        494        2.35       22.33
. **          9 |         12        0.06       22.39
. **          . |     16,301       77.61      100.00
. **------------+-----------------------------------
. **     Total |     21,004      100.00
. 
. capture drop frail_weakness
{txt}
{com}. gen frail_weakness=.
{txt}(21,004 missing values generated)

{com}. replace frail_weakness=0 if pfq060e==1
{txt}(3,117 real changes made)

{com}. replace frail_weakness=1 if pfq060e==2 | pfq060e==3 | pfq060e==4 
{txt}(1,574 real changes made)

{com}. replace frail_weakness=. if pfq060e==7 | pfq060e==9 
{txt}(0 real changes made)

{com}. 
. tab frail_weakness

{txt}frail_weakn {c |}
        ess {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      3,117       66.45       66.45
{txt}          1 {c |}{res}      1,574       33.55      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      4,691      100.00
{txt}
{com}. 
. * 3. Slowness (Difficulty walking Â¼ mile)
. 
. 
. **Variable Name:PFQ060bSAS Label:Walking for a quarter mile difficultyEnglish Text:By {c -(}yourself/himself/herself{c )-} and without using any special equipment, how much difficulty {c -(}do you/does SP{c )-} **have . . .walking for a quarter of a mile [that is about 2 or 3 blocks]?English Instructions:HAND CARD PFQ1. DO NOT INCLUDE TEMPORARY CONDITIONS LIKE PREGNANCY OR BROKEN LIMBS. CAPI **INSTRUCTION: IF PFQ.055 = '1' (YES), DO NOT DISPLAY 'B' OR 'C'. IF SP FEMALE, DISPLAY 'NOT INCLUDING PREGNANCY'.Target:Both males and females 20 YEARS - 120 YEARS
. **Code or Value Value Description       Count   Cumulative      Skip to Item
. **1     No difficulty   1347    1347    
. **2     Some difficulty 367     1714    
. **3     Much difficulty 155     1869    
. **4     Unable to do    155     2024    
. **7     Refused 0       2024    
. **9     Don't know      5       2029    
. **.     Missing 7464    9493    
. 
. tab pfq060b, miss

{txt}Walking for {c |}
  a quarter {c |}
       mile {c |}
 difficulty {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      2,780       13.24       13.24
{txt}          2 {c |}{res}        751        3.58       16.81
{txt}          3 {c |}{res}        302        1.44       18.25
{txt}          4 {c |}{res}        337        1.60       19.85
{txt}          9 {c |}{res}          9        0.04       19.90
{txt}          . {c |}{res}     16,825       80.10      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     21,004      100.00
{txt}
{com}. 
. 
. **Walking for |
. **  a quarter |
. **       mile |
. ** difficulty |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      2,780       13.24       13.24
. **          2 |        751        3.58       16.81
. **          3 |        302        1.44       18.25
. **          4 |        337        1.60       19.85
. **          9 |          9        0.04       19.90
. **          . |     16,825       80.10      100.00
. **------------+-----------------------------------
. **      Total |     21,004      100.00
. 
. 
. 
. capture drop frail_slowness
{txt}
{com}. gen frail_slowness = .
{txt}(21,004 missing values generated)

{com}. replace frail_slowness = 0 if pfq060b == 1  // No
{txt}(2,780 real changes made)

{com}. replace frail_slowness = 1 if pfq060b == 2  | pfq060b == 3 | pfq060b == 4 // Yes
{txt}(1,390 real changes made)

{com}. replace frail_slowness = . if pfq060b == 7  | pfq060b == 9
{txt}(0 real changes made)

{com}. 
. tab  frail_slowness

{txt}frail_slown {c |}
        ess {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      2,780       66.67       66.67
{txt}          1 {c |}{res}      1,390       33.33      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      4,170      100.00
{txt}
{com}. 
. 
. * 4. Low physical activity (PAD200: vigorous activity over the past 30 days; PAD320: moderate activity over the past 30 days)
. 
. 
. ****Low physical activity: vigorous or moderate activity (0=higher activity, 1=lower activity)**
. 
. 
. ***Vigorous activity****
. 
. **Variable Name:PAD200SAS Label:Vigorous activity over past 30 daysEnglish Text:The next questions are about physical activities including exercise, sports, and physically active hobbies **that {c -(}you/SP{c )-} may have done in {c -(}your/his/her{c )-} leisure time or at school over the past 30 days. First I will ask you about vigorous activities that cause heavy sweating or large increases in breathing or heart rate. Then I will ask you about moderate activities that cause only light sweating or a slight to moderate increase in breathing or heart rate. Over the past 30 days, did {c -(}you/SP{c )-} do any vigorous activities for at least 10 minutes that caused heavy sweating, or large increases in breathing or heart rate? Some examples are running, lap swimming, aerobics **classes or fast bicycling.English Instructions:CODE 'UNABLE TO DO' ONLY IF RESPONDENT VOLUNTEERS.Target:Both males and females 12 YEARS - 150 YEARS
. **Code or Value Value Description       Count   Cumulative      Skip to Item
. **1     Yes     2654    2654    
. **2     No      4244    6898    
. **3     Unable to do activity   293     7191    
. **7     Refused 5       7196    
. **9     Don't know      2       7198    
. **.     Missing 1990    9188    
. 
. 
. 
. tab pad200

   {txt}Vigorous {c |}
   activity {c |}
  over past {c |}
    30 days {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      5,841       38.98       38.98
{txt}          2 {c |}{res}      8,524       56.89       95.87
{txt}          3 {c |}{res}        606        4.04       99.91
{txt}          7 {c |}{res}          9        0.06       99.97
{txt}          9 {c |}{res}          4        0.03      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     14,984      100.00
{txt}
{com}. 
. 
. **   Vigorous |
. **   activity |
. **  over past |
. **    30 days |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      5,841       38.98       38.98
. **          2 |      8,524       56.89       95.87
. **          3 |        606        4.04       99.91
. **          7 |          9        0.06       99.97
. **          9 |          4        0.03      100.00
. **------------+-----------------------------------
. **      Total |     14,984      100.00
. 
. 
. tab pad200, miss

   {txt}Vigorous {c |}
   activity {c |}
  over past {c |}
    30 days {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      5,841       27.81       27.81
{txt}          2 {c |}{res}      8,524       40.58       68.39
{txt}          3 {c |}{res}        606        2.89       71.28
{txt}          7 {c |}{res}          9        0.04       71.32
{txt}          9 {c |}{res}          4        0.02       71.34
{txt}          . {c |}{res}      6,020       28.66      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     21,004      100.00
{txt}
{com}. 
. 
. **   Vigorous |
. **   activity |
. **  over past |
. **    30 days |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      5,841       27.81       27.81
. **          2 |      8,524       40.58       68.39
. **          3 |        606        2.89       71.28
. **          7 |          9        0.04       71.32
. **          9 |          4        0.02       71.34
. **          . |      6,020       28.66      100.00
. **------------+-----------------------------------
. **      Total |     21,004      100.00
. 
. 
. 
. 
. capture drop pad200r
{txt}
{com}. gen pad200r=.
{txt}(21,004 missing values generated)

{com}. replace pad200r=0 if pad200==1
{txt}(5,841 real changes made)

{com}. replace pad200r=1 if pad200==2 | pad200==3 
{txt}(9,130 real changes made)

{com}. replace pad200r=. if pad200r~=0 & pad200r~=1 
{txt}(0 real changes made)

{com}. 
. tab pad200r

    {txt}pad200r {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      5,841       39.02       39.02
{txt}          1 {c |}{res}      9,130       60.98      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     14,971      100.00
{txt}
{com}. 
. ***********Moderate activity*********
. **Variable Name:PAD320SAS Label:Moderate activity over past 30 daysEnglish Text:[Over the past 30 days], did {c -(}you/SP{c )-} do moderate activities for at least 10 minutes that cause only light **sweating or a slight to moderate increase in breathing or heart rate? Some examples are brisk walking, bicycling for pleasure, golf, and dancing .English Instructions:CODE 'UNABLE TO DO' **ONLY IF RESPONDENT VOLUNTEERS.Target:Both males and females 12 YEARS - 150 YEARS
. **Code or Value Value Description       Count   Cumulative      Skip to Item
. **1     Yes     2908    2908    
. **2     No      4031    6939    
. **3     Unable to do activity   250     7189    
. **7     Refused 6       7195    
. **9     Don't know      3       7198    
. **.     Missing 1990    9188    
. 
. tab pad320

   {txt}Moderate {c |}
   activity {c |}
  over past {c |}
    30 days {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      6,646       44.36       44.36
{txt}          2 {c |}{res}      7,832       52.28       96.64
{txt}          3 {c |}{res}        487        3.25       99.89
{txt}          7 {c |}{res}         11        0.07       99.96
{txt}          9 {c |}{res}          6        0.04      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     14,982      100.00
{txt}
{com}. 
. 
. **   Moderate |
. **   activity |
. **  over past |
. **    30 days |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      6,646       44.36       44.36
. **          2 |      7,832       52.28       96.64
. **          3 |        487        3.25       99.89
. **          7 |         11        0.07       99.96
. **          9 |          6        0.04      100.00
. **------------+-----------------------------------
. **      Total |     14,982      100.00
. 
. tab pad320,miss

   {txt}Moderate {c |}
   activity {c |}
  over past {c |}
    30 days {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      6,646       31.64       31.64
{txt}          2 {c |}{res}      7,832       37.29       68.93
{txt}          3 {c |}{res}        487        2.32       71.25
{txt}          7 {c |}{res}         11        0.05       71.30
{txt}          9 {c |}{res}          6        0.03       71.33
{txt}          . {c |}{res}      6,022       28.67      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     21,004      100.00
{txt}
{com}. 
. 
. **   Moderate |
. **   activity |
. **  over past |
. **    30 days |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      6,646       31.64       31.64
. **          2 |      7,832       37.29       68.93
. **          3 |        487        2.32       71.25
. **          7 |         11        0.05       71.30
. **          9 |          6        0.03       71.33
. **          . |      6,022       28.67      100.00
. **------------+-----------------------------------
. **      Total |     21,004      100.00
. 
. 
. 
. 
. capture drop pad320r
{txt}
{com}. gen pad320r=.
{txt}(21,004 missing values generated)

{com}. replace pad320r=0 if pad320==1
{txt}(6,646 real changes made)

{com}. replace pad320r=1 if pad320==2 |  pad320==3
{txt}(8,319 real changes made)

{com}. replace pad320r=. if pad320r~=0 & pad320r~=1
{txt}(0 real changes made)

{com}. 
. 
. capture drop frail_activity
{txt}
{com}. gen frail_activity = .
{txt}(21,004 missing values generated)

{com}. replace frail_activity = 1 if pad200r == 1 | pad320r == 1 
{txt}(11,570 real changes made)

{com}. replace frail_activity = 0 if frail_activity~=1 & pad200r~=. & pad320r~=.
{txt}(3,398 real changes made)

{com}. 
. tab frail_activity

{txt}frail_activ {c |}
        ity {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      3,398       22.70       22.70
{txt}          1 {c |}{res}     11,570       77.30      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     14,968      100.00
{txt}
{com}. 
. 
. * 5. Fatigue (proxy using difficulty climbing stairs)
. 
. **Variable Name:PFQ060cSAS Label:Walking up ten steps difficultyEnglish Text:By {c -(}yourself/himself/herself{c )-} and without using any special equipment, how much difficulty {c -(}do you/does SP{c )-} have **. . .walking up 10 steps without resting?English Instructions:HAND CARD PFQ1. DO NOT INCLUDE TEMPORARY CONDITIONS LIKE PREGNANCY OR BROKEN LIMBS. CAPI INSTRUCTION: IF PFQ.055 = '1' (YES), **DO NOT DISPLAY 'B' OR 'C'. IF SP FEMALE, DISPLAY 'NOT INCLUDING PREGNANCY'.Target:Both males and females 20 YEARS - 120 YEARS
. **Code or Value Value Description       Count   Cumulative      Skip to Item
. **1     No difficulty   1449    1449    
. **2     Some difficulty 367     1816    
. **3     Much difficulty 112     1928    
. **4     Unable to do    93      2021    
. **7     Refused 0       2021    
. **9     Don't know      8       2029    
. **.     Missing 7464    9493    
. 
. tab pfq060c, miss

 {txt}Walking up {c |}
  ten steps {c |}
 difficulty {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      3,020       14.38       14.38
{txt}          2 {c |}{res}        703        3.35       17.73
{txt}          3 {c |}{res}        241        1.15       18.87
{txt}          4 {c |}{res}        197        0.94       19.81
{txt}          9 {c |}{res}         18        0.09       19.90
{txt}          . {c |}{res}     16,825       80.10      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}     21,004      100.00
{txt}
{com}. 
. ** Walking up |
. **  ten steps |
. ** difficulty |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      3,020       14.38       14.38
. **          2 |        703        3.35       17.73
. **          3 |        241        1.15       18.87
. **          4 |        197        0.94       19.81
. **          9 |         18        0.09       19.90
. **          . |     16,825       80.10      100.00
. **------------+-----------------------------------
. **      Total |     21,004      100.00
. 
. tab pfq060c

 {txt}Walking up {c |}
  ten steps {c |}
 difficulty {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          1 {c |}{res}      3,020       72.27       72.27
{txt}          2 {c |}{res}        703       16.82       89.09
{txt}          3 {c |}{res}        241        5.77       94.86
{txt}          4 {c |}{res}        197        4.71       99.57
{txt}          9 {c |}{res}         18        0.43      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      4,179      100.00
{txt}
{com}. 
. 
. ** Walking up |
. **  ten steps |
. ** difficulty |      Freq.     Percent        Cum.
. **------------+-----------------------------------
. **          1 |      3,020       72.27       72.27
. **          2 |        703       16.82       89.09
. **          3 |        241        5.77       94.86
. **          4 |        197        4.71       99.57
. **          9 |         18        0.43      100.00
. **------------+-----------------------------------
. **      Total |      4,179      100.00
. 
. 
. capture drop pfq060cr
{txt}
{com}. gen pfq060cr=.
{txt}(21,004 missing values generated)

{com}. replace pfq060cr=0 if pfq060c==1
{txt}(3,020 real changes made)

{com}. replace pfq060cr=1 if pfq060c==2 | pfq060c==3 | pfq060c==4
{txt}(1,141 real changes made)

{com}. 
. tab pfq060cr

   {txt}pfq060cr {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      3,020       72.58       72.58
{txt}          1 {c |}{res}      1,141       27.42      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      4,161      100.00
{txt}
{com}.  
. 
. capture drop frail_fatigue
{txt}
{com}. gen frail_fatigue = .
{txt}(21,004 missing values generated)

{com}. replace frail_fatigue = 1 if pfq060cr == 1   // Yes
{txt}(1,141 real changes made)

{com}. replace frail_fatigue = 0 if frail_fatigue~=1 & pfq060cr~=.   // No
{txt}(3,020 real changes made)

{com}. 
. tab  frail_fatigue

{txt}frail_fatig {c |}
         ue {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      3,020       72.58       72.58
{txt}          1 {c |}{res}      1,141       27.42      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      4,161      100.00
{txt}
{com}. 
. 
. * Total frailty score: 0 to 5
. capture drop frailty_score
{txt}
{com}. gen frailty_score = frail_shrinking+frail_weakness+frail_slowness+frail_activity+frail_fatigue
{txt}(17,450 missing values generated)

{com}. 
. tab frailty_score

{txt}frailty_sco {c |}
         re {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}        278        7.82        7.82
{txt}          1 {c |}{res}      1,820       51.21       59.03
{txt}          2 {c |}{res}        568       15.98       75.01
{txt}          3 {c |}{res}        439       12.35       87.37
{txt}          4 {c |}{res}        439       12.35       99.72
{txt}          5 {c |}{res}         10        0.28      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      3,554      100.00
{txt}
{com}. 
. 
. * Categorical frailty classification
. capture drop frailty_status
{txt}
{com}. gen frailty_status = .
{txt}(21,004 missing values generated)

{com}. replace frailty_status = 0 if frailty_score == 0      // Robust
{txt}(278 real changes made)

{com}. replace frailty_status = 0 if frailty_score == 1 | frailty_score == 2   // Pre-frail
{txt}(2,388 real changes made)

{com}. replace frailty_status = 1 if frailty_score >= 3  & frailty_score~=.    // Frail
{txt}(888 real changes made)

{com}. 
. 
. tab frailty_status

{txt}frailty_sta {c |}
        tus {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      2,666       75.01       75.01
{txt}          1 {c |}{res}        888       24.99      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      3,554      100.00
{txt}
{com}. 
. save "E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\FRAILTY_NHANES.dta", replace
{txt}{p 0 4 2}
file {bf}
E:\16GBBACKUPUSB\BACKUP_USB_SEPTEMBER2014\SUMMER_STUDENT_2025\HRS_NHANES_HANDLS_FRAILTY_EPICLOCKS_MORT\FINAL_DATA\NHANES\FRAILTY_NHANES.dta{rm}
saved
{p_end}

{com}. 
. capture log close
{smcl}
{com}{sf}{ul off}